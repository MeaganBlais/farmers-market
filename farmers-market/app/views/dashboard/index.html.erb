<h1>Dashboard</h1>

<% if current_user %>
  <%= react_component("UserProfile", {
    type: 'user',
    first_name: current_user.first_name,
    last_name: current_user.last_name,
    email: current_user.email
    }) %>
    <%= link_to "Edit", "/dashboard/#{current_user.id}/edit"%>
    <%= link_to "Delete", "/users/#{current_user.id}", method: :delete%>
<% elsif current_farmer %>
  <%= link_to "Edit", "/dashboard/#{current_farmer.id}/edit"%>
  <%= link_to "Delete", "/farmers/#{current_farmer.id}", method: :delete%>
  <%= react_component("FarmerProfile", {
    type: 'farmer',
    id: current_farmer.id,
    farm_name: current_farmer.farm_name,
    first_name: current_farmer.first_name,
    last_name: current_farmer.last_name,
    email: current_farmer.email,
    phone_no: current_farmer.phone_no,
    website_link: current_farmer.website_link,
    description: current_farmer.description,
    image: "#{current_farmer.image}"
    }) %>

    <%= react_component("Markets", {markets: FarmerMarket.get_markets_farmer_participates_in(current_farmer.id)})%>
    <%= react_component("Products", {products: FarmersProduct.get_products_farmer_offers(current_farmer.id)})%>

<% else %>
  not yet
<% end %>
